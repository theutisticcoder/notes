<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cornell Notes App</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
body { font-family: 'Inter', sans-serif; }
.cornell-grid {
display: grid;
grid-template-columns: 1fr 2.5fr;
grid-template-rows: auto 1fr auto;
gap: 1px;
background: #e5e7eb;
min-height: 500px;
}
.cue-column { grid-column: 1; grid-row: 2; }
.notes-column { grid-column: 2; grid-row: 2; }
.summary-section { grid-column: 1 / -1; grid-row: 3; }
.header-section { grid-column: 1 / -1; grid-row: 1; }
.bullet-point::before {
content: "•";
color: #3b82f6;
font-weight: bold;
margin-right: 8px;
}
</style>
</head>
<body class="bg-gray-50 min-h-screen">
<!-- Header -->
<div class="bg-white shadow-sm border-b">
<div class="max-w-7xl mx-auto px-4 py-4">
<div class="flex items-center justify-between">
<h1 class="text-2xl font-bold text-gray-900">Cornell Notes</h1>
<div class="flex items-center gap-4">
<button id="addClassBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
+ Add Class
</button>
<button id="gridViewBtn" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors">
Grid View
</button>
</div>
</div>
</div>
</div>

<!-- Class Tabs -->
<div class="bg-white border-b">
<div class="max-w-7xl mx-auto px-4">
<div id="classTabs" class="flex gap-1 overflow-x-auto py-2">
<!-- Tabs will be inserted here -->
</div>
</div>
</div>

<!-- Main Content -->
<div class="max-w-7xl mx-auto px-4 py-6">
<!-- Single Note View -->
<div id="singleNoteView" class="bg-white rounded-lg shadow-sm border">
<div class="cornell-grid">
<!-- Header -->
<div class="header-section bg-gray-50 p-4 border-b">
<input id="noteTitle" type="text" placeholder="Note Title" class="w-full text-lg font-semibold bg-transparent border-none outline-none">
<input id="noteDate" type="text" placeholder="Date" class="w-full text-sm text-gray-600 bg-transparent border-none outline-none mt-1">
</div>

<!-- Cue Column -->
<div class="cue-column bg-white p-4">
<h3 class="text-sm font-semibold text-gray-700 mb-3">Cues & Questions</h3>
<div id="cueContent" contenteditable="true" class="min-h-32 text-sm text-gray-700 outline-none" placeholder="Key points, questions, keywords..."></div>
<button id="addCueBullet" class="mt-2 text-xs text-blue-600 hover:text-blue-700">+ Add Bullet</button>
</div>

<!-- Notes Column -->
<div class="notes-column bg-white p-4">
<h3 class="text-sm font-semibold text-gray-700 mb-3">Notes</h3>
<div id="notesContent" contenteditable="true" class="min-h-32 text-sm text-gray-700 outline-none" placeholder="Detailed notes from lecture or reading..."></div>
<button id="addNotesBullet" class="mt-2 text-xs text-blue-600 hover:text-blue-700">+ Add Bullet</button>
</div>

<!-- Summary Section -->
<div class="summary-section bg-gray-50 p-4">
<h3 class="text-sm font-semibold text-gray-700 mb-3">Summary</h3>
<div id="summaryContent" contenteditable="true" class="min-h-20 text-sm text-gray-700 outline-none" placeholder="Key takeaways and main points..."></div>
<button id="addSummaryBullet" class="mt-2 text-xs text-blue-600 hover:text-blue-700">+ Add Bullet</button>
</div>
</div>

<!-- Note Actions -->
<div class="p-4 border-t bg-gray-50 flex justify-between items-center">
<div class="text-xs text-gray-500">Auto-saved</div>
<button id="deleteNoteBtn" class="text-red-600 hover:text-red-700 text-sm font-medium">Delete Note</button>
</div>
</div>

<!-- Grid View -->
<div id="gridView" class="hidden">
<div class="mb-6">
<button id="addNoteBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
+ Add Note
</button>
</div>
<div id="notesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
<!-- Note cards will be inserted here -->
</div>
</div>
</div>

<!-- Add Class Modal -->
<div id="addClassModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
<div class="bg-white rounded-lg p-6 w-96 max-w-90vw">
<h2 class="text-lg font-semibold mb-4">Add New Class</h2>
<input id="classNameInput" type="text" placeholder="Class Name" class="w-full p-3 border rounded-lg mb-4">
<div class="flex gap-3">
<button id="cancelClassBtn" class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50">Cancel</button>
<button id="saveClassBtn" class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Save</button>
</div>
</div>
</div>

<script>
class CornellNotesApp {
constructor() {
this.classes = JSON.parse(localStorage.getItem('cornellClasses')) || [];
this.notes = JSON.parse(localStorage.getItem('cornellNotes')) || {};
this.currentClass = localStorage.getItem('currentClass') || null;
this.currentNote = localStorage.getItem('currentNote') || null;
this.isGridView = false;

this.initializeApp();
this.bindEvents();
this.autoSave();
}

initializeApp() {
if (this.classes.length === 0) {
this.addClass('General Notes');
}
this.renderClassTabs();
this.switchToClass(this.currentClass || this.classes[0]);
this.renderCurrentView();
}

bindEvents() {
// Class management
document.getElementById('addClassBtn').addEventListener('click', () => this.showAddClassModal());
document.getElementById('cancelClassBtn').addEventListener('click', () => this.hideAddClassModal());
document.getElementById('saveClassBtn').addEventListener('click', () => this.saveNewClass());

// View switching
document.getElementById('gridViewBtn').addEventListener('click', () => this.toggleView());
document.getElementById('addNoteBtn').addEventListener('click', () => this.addNewNote());

// Note actions
document.getElementById('deleteNoteBtn').addEventListener('click', () => this.deleteCurrentNote());

// Bullet points
document.getElementById('addCueBullet').addEventListener('click', () => this.addBulletPoint('cueContent'));
document.getElementById('addNotesBullet').addEventListener('click', () => this.addBulletPoint('notesContent'));
document.getElementById('addSummaryBullet').addEventListener('click', () => this.addBulletPoint('summaryContent'));

// Auto-save on input
['noteTitle', 'noteDate'].forEach(id => {
document.getElementById(id).addEventListener('input', () => this.saveCurrentNote());
});

['cueContent', 'notesContent', 'summaryContent'].forEach(id => {
document.getElementById(id).addEventListener('input', () => this.saveCurrentNote());
});
}

addClass(name) {
const classId = Date.now().toString();
this.classes.push({ id: classId, name });
this.notes[classId] = [];
this.saveToStorage();
return classId;
}

showAddClassModal() {
document.getElementById('addClassModal').classList.remove('hidden');
document.getElementById('classNameInput').focus();
}

hideAddClassModal() {
document.getElementById('addClassModal').classList.add('hidden');
document.getElementById('classNameInput').value = '';
}

saveNewClass() {
const name = document.getElementById('classNameInput').value.trim();
if (name) {
const classId = this.addClass(name);
this.renderClassTabs();
this.switchToClass(classId);
this.hideAddClassModal();
}
}

renderClassTabs() {
const container = document.getElementById('classTabs');
container.innerHTML = this.classes.map(cls => `
<button class="class-tab px-4 py-2 rounded-lg font-medium transition-colors ${cls.id === this.currentClass ? 'bg-blue-100 text-blue-700' : 'text-gray-600 hover:bg-gray-100'}"
data-class-id="${cls.id}">
${cls.name}
${this.classes.length > 1 ? `<span class="ml-2 text-xs hover:text-red-600 delete-class" data-class-id="${cls.id}">×</span>` : ''}
</button>
`).join('');

// Bind tab events
container.querySelectorAll('.class-tab').forEach(tab => {
tab.addEventListener('click', (e) => {
if (e.target.classList.contains('delete-class')) {
e.stopPropagation();
this.deleteClass(e.target.dataset.classId);
} else {
this.switchToClass(tab.dataset.classId);
}
});
});
}

switchToClass(classId) {
this.currentClass = classId;
localStorage.setItem('currentClass', classId);

const classNotes = this.notes[classId] || [];
if (classNotes.length === 0) {
this.addNewNote();
} else {
this.currentNote = classNotes[0].id;
localStorage.setItem('currentNote', this.currentNote);
}

this.renderClassTabs();
this.renderCurrentView();
}

deleteClass(classId) {
if (this.classes.length <= 1) return;

this.classes = this.classes.filter(cls => cls.id !== classId);
delete this.notes[classId];

if (this.currentClass === classId) {
this.switchToClass(this.classes[0].id);
}

this.saveToStorage();
this.renderClassTabs();
}

addNewNote() {
const noteId = Date.now().toString();
const newNote = {
id: noteId,
title: 'Untitled Note',
date: new Date().toLocaleDateString(),
cueContent: '',
notesContent: '',
summaryContent: '',
createdAt: Date.now()
};

if (!this.notes[this.currentClass]) {
this.notes[this.currentClass] = [];
}

this.notes[this.currentClass].unshift(newNote);
this.currentNote = noteId;
localStorage.setItem('currentNote', noteId);

this.saveToStorage();
this.renderCurrentView();
}

deleteCurrentNote() {
if (!this.currentNote) return;

this.notes[this.currentClass] = this.notes[this.currentClass].filter(note => note.id !== this.currentNote);

if (this.notes[this.currentClass].length === 0) {
this.addNewNote();
} else {
this.currentNote = this.notes[this.currentClass][0].id;
localStorage.setItem('currentNote', this.currentNote);
this.renderCurrentView();
}

this.saveToStorage();
}

toggleView() {
this.isGridView = !this.isGridView;
const btn = document.getElementById('gridViewBtn');
btn.textContent = this.isGridView ? 'Single View' : 'Grid View';
btn.classList.toggle('bg-blue-100');
btn.classList.toggle('text-blue-700');
this.renderCurrentView();
}

renderCurrentView() {
const singleView = document.getElementById('singleNoteView');
const gridView = document.getElementById('gridView');

if (this.isGridView) {
singleView.classList.add('hidden');
gridView.classList.remove('hidden');
this.renderGridView();
} else {
singleView.classList.remove('hidden');
gridView.classList.add('hidden');
this.renderSingleNote();
}
}

renderSingleNote() {
const note = this.getCurrentNote();
if (!note) return;

document.getElementById('noteTitle').value = note.title;
document.getElementById('noteDate').value = note.date;
document.getElementById('cueContent').innerHTML = note.cueContent;
document.getElementById('notesContent').innerHTML = note.notesContent;
document.getElementById('summaryContent').innerHTML = note.summaryContent;
}

renderGridView() {
const container = document.getElementById('notesGrid');
const classNotes = this.notes[this.currentClass] || [];

container.innerHTML = classNotes.map(note => `
<div class="bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer note-card" data-note-id="${note.id}">
<div class="p-4">
<h3 class="font-semibold text-gray-900 mb-2">${note.title}</h3>
<p class="text-sm text-gray-600 mb-3">${note.date}</p>
<div class="text-xs text-gray-500 space-y-1">
<div><strong>Cues:</strong> ${this.getPreview(note.cueContent)}</div>
<div><strong>Notes:</strong> ${this.getPreview(note.notesContent)}</div>
<div><strong>Summary:</strong> ${this.getPreview(note.summaryContent)}</div>
</div>
</div>
<div class="px-4 py-3 bg-gray-50 border-t flex justify-between items-center">
<span class="text-xs text-gray-500">${new Date(note.createdAt).toLocaleDateString()}</span>
<button class="text-red-600 hover:text-red-700 text-xs delete-note-btn" data-note-id="${note.id}">Delete</button>
</div>
</div>
`).join('');

// Bind grid events
container.querySelectorAll('.note-card').forEach(card => {
card.addEventListener('click', (e) => {
if (e.target.classList.contains('delete-note-btn')) {
e.stopPropagation();
this.deleteNote(e.target.dataset.noteId);
} else {
this.openNote(card.dataset.noteId);
}
});
});
}

getPreview(content) {
const text = content.replace(/<[^>]*>/g, '').trim();
return text.length > 50 ? text.substring(0, 50) + '...' : text || 'Empty';
}

openNote(noteId) {
this.currentNote = noteId;
localStorage.setItem('currentNote', noteId);
this.isGridView = false;
document.getElementById('gridViewBtn').textContent = 'Grid View';
document.getElementById('gridViewBtn').classList.remove('bg-blue-100', 'text-blue-700');
this.renderCurrentView();
}

deleteNote(noteId) {
this.notes[this.currentClass] = this.notes[this.currentClass].filter(note => note.id !== noteId);

if (this.notes[this.currentClass].length === 0) {
this.addNewNote();
}

this.saveToStorage();
this.renderGridView();
}

addBulletPoint(contentId) {
const element = document.getElementById(contentId);
const selection = window.getSelection();
const range = document.createRange();

const bulletDiv = document.createElement('div');
bulletDiv.className = 'bullet-point';
bulletDiv.innerHTML = '&nbsp;';

element.appendChild(bulletDiv);

range.setStart(bulletDiv, 1);
range.collapse(true);
selection.removeAllRanges();
selection.addRange(range);

this.saveCurrentNote();
}

getCurrentNote() {
if (!this.currentNote || !this.notes[this.currentClass]) return null;
return this.notes[this.currentClass].find(note => note.id === this.currentNote);
}

saveCurrentNote() {
const note = this.getCurrentNote();
if (!note) return;

note.title = document.getElementById('noteTitle').value;
note.date = document.getElementById('noteDate').value;
note.cueContent = document.getElementById('cueContent').innerHTML;
note.notesContent = document.getElementById('notesContent').innerHTML;
note.summaryContent = document.getElementById('summaryContent').innerHTML;

this.saveToStorage();
}

autoSave() {
setInterval(() => {
if (!this.isGridView) {
this.saveCurrentNote();
}
}, 2000);
}

saveToStorage() {
localStorage.setItem('cornellClasses', JSON.stringify(this.classes));
localStorage.setItem('cornellNotes', JSON.stringify(this.notes));
}
}

// Initialize the app
new CornellNotesApp();
</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'974ce18e5270de95',t:'MTc1NjE0MzY5NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
