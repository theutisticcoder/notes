<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cornell Notes App</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
body { font-family: 'Inter', sans-serif; }
.cornell-grid {
display: grid;
grid-template-columns: 1fr 2fr;
grid-template-rows: auto 1fr auto;
gap: 1px;
background: #e5e7eb;
min-height: 500px;
}
.cue-column { grid-column: 1; grid-row: 2; }
.notes-column { grid-column: 2; grid-row: 2; }
.summary-section { grid-column: 1 / -1; grid-row: 3; }
.header-section { grid-column: 1 / -1; grid-row: 1; }

.editable-area {
min-height: 120px;
outline: none;
line-height: 1.6;
}
.editable-area:focus {
box-shadow: inset 0 0 0 2px #3b82f6;
}
.bullet-btn {
transition: all 0.2s;
}
.bullet-btn:hover {
transform: scale(1.05);
}
</style>
</head>
<body class="bg-gray-50 min-h-screen">
<div class="container mx-auto px-4 py-6 max-w-7xl">
<!-- Header -->
<div class="mb-6">
<h1 class="text-3xl font-bold text-gray-800 mb-4">Cornell Notes</h1>

<!-- Add Class Section -->
<div class="bg-white rounded-lg shadow-sm border p-4 mb-4">
<div class="flex gap-3 items-center">
<input
type="text"
id="classInput"
placeholder="Enter class name (e.g., Biology 101)"
class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
>
<button
onclick="addClass()"
class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium transition-colors"
>
Add Class
</button>
</div>
</div>
</div>

<!-- Main Layout Grid -->
<div class="grid grid-cols-1 lg:grid-cols-4 gap-6 h-full">
<!-- Classes Sidebar -->
<div class="lg:col-span-1">
<div class="bg-white rounded-lg shadow-sm border p-4 sticky top-6">
<h2 class="font-semibold text-gray-800 mb-4">Classes</h2>
<div id="classesList" class="space-y-2">
<!-- Classes will be listed here -->
</div>
</div>
</div>

<!-- Notes Pages and Editor -->
<div class="lg:col-span-3">
<div id="noClassSelected" class="bg-white rounded-lg shadow-sm border p-8 text-center">
<div class="text-gray-400 text-4xl mb-4">ðŸ“š</div>
<p class="text-gray-500 text-lg">Select a class to view your notes</p>
</div>

<div id="classContent" class="hidden">
<!-- Notes Pages Grid -->
<div class="bg-white rounded-lg shadow-sm border p-4 mb-6">
<div class="flex justify-between items-center mb-4">
<h2 id="selectedClassName" class="font-semibold text-gray-800 text-lg"></h2>
<div class="flex gap-2">
<button
onclick="addNotePage()"
class="bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors"
>
+ New Note
</button>
<button
onclick="deleteSelectedClass()"
class="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors"
>
Delete Class
</button>
</div>
</div>
<div id="notesList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
<!-- Note pages will be listed here -->
</div>
</div>

<!-- Cornell Note Editor -->
<div id="noteEditor" class="hidden bg-white rounded-lg shadow-sm border overflow-hidden">
<!-- Cornell note content will be here -->
</div>
</div>
</div>
</div>
</div>

<script>
let classes = JSON.parse(localStorage.getItem('cornellNotes')) || [];
let nextId = parseInt(localStorage.getItem('nextId')) || 1;
let nextPageId = parseInt(localStorage.getItem('nextPageId')) || 1;
let selectedClassId = null;
let selectedPageId = null;

function saveToStorage() {
localStorage.setItem('cornellNotes', JSON.stringify(classes));
localStorage.setItem('nextId', nextId.toString());
localStorage.setItem('nextPageId', nextPageId.toString());
}

function addClass() {
const input = document.getElementById('classInput');
const className = input.value.trim();

if (className) {
const newClass = {
id: nextId++,
name: className,
pages: [{
id: nextPageId++,
title: 'Note 1',
topic: '',
date: new Date().toLocaleDateString(),
cues: '',
notes: '',
summary: ''
}]
};

classes.push(newClass);
input.value = '';
renderClassesList();
saveToStorage();
}
}

function selectClass(classId) {
selectedClassId = classId;
selectedPageId = null;
const classItem = classes.find(c => c.id === classId);

document.getElementById('noClassSelected').classList.add('hidden');
document.getElementById('classContent').classList.remove('hidden');
document.getElementById('noteEditor').classList.add('hidden');
document.getElementById('selectedClassName').textContent = classItem.name;

renderNotesList();
renderClassesList(); // Update selection styling
}

function selectNote(pageId) {
selectedPageId = pageId;
renderNoteEditor();
renderNotesList(); // Update selection styling
}

function deleteSelectedClass() {
if (selectedClassId && confirm('Are you sure you want to delete this class and all its notes?')) {
classes = classes.filter(c => c.id !== selectedClassId);
selectedClassId = null;
selectedPageId = null;

document.getElementById('noClassSelected').classList.remove('hidden');
document.getElementById('classContent').classList.add('hidden');

renderClassesList();
saveToStorage();
}
}

function addNotePage() {
if (selectedClassId) {
const classItem = classes.find(c => c.id === selectedClassId);
if (classItem) {
const newPage = {
id: nextPageId++,
title: `Note ${classItem.pages.length + 1}`,
topic: '',
date: new Date().toLocaleDateString(),
cues: '',
notes: '',
summary: ''
};
classItem.pages.push(newPage);
renderNotesList();
saveToStorage();
}
}
}

function deleteNote(pageId) {
if (selectedClassId && confirm('Are you sure you want to delete this note?')) {
const classItem = classes.find(c => c.id === selectedClassId);
if (classItem && classItem.pages.length > 1) {
classItem.pages = classItem.pages.filter(p => p.id !== pageId);
if (selectedPageId === pageId) {
selectedPageId = null;
document.getElementById('noteEditor').classList.add('hidden');
}
renderNotesList();
saveToStorage();
}
}
}

function updatePage(field, value) {
if (selectedClassId && selectedPageId) {
const classItem = classes.find(c => c.id === selectedClassId);
if (classItem) {
const page = classItem.pages.find(p => p.id === selectedPageId);
if (page) {
page[field] = value;
renderNotesList(); // Update the note card display
saveToStorage();
}
}
}
}

function addBullet(textareaId) {
const textarea = document.getElementById(textareaId);
const cursorPos = textarea.selectionStart;
const textBefore = textarea.value.substring(0, cursorPos);
const textAfter = textarea.value.substring(cursorPos);

const bullet = 'â€¢ ';
const newValue = textBefore + bullet + textAfter;
textarea.value = newValue;

// Move cursor after the bullet
textarea.focus();
textarea.setSelectionRange(cursorPos + bullet.length, cursorPos + bullet.length);

// Trigger the input event to save
const event = new Event('input', { bubbles: true });
textarea.dispatchEvent(event);
}

function renderClassesList() {
const list = document.getElementById('classesList');

if (classes.length === 0) {
list.innerHTML = '<p class="text-gray-500 text-sm">No classes yet</p>';
return;
}

list.innerHTML = classes.map(classItem => `
<div
onclick="selectClass(${classItem.id})"
class="p-3 rounded-lg cursor-pointer transition-colors ${selectedClassId === classItem.id ? 'bg-blue-100 border-blue-300 border' : 'bg-gray-50 hover:bg-gray-100'}"
>
<div class="font-medium text-gray-800">${classItem.name}</div>
<div class="text-sm text-gray-500">${classItem.pages.length} note${classItem.pages.length !== 1 ? 's' : ''}</div>
</div>
`).join('');
}

function renderNotesList() {
if (!selectedClassId) return;

const classItem = classes.find(c => c.id === selectedClassId);
if (!classItem) return;

const list = document.getElementById('notesList');

list.innerHTML = classItem.pages.map(page => `
<div
onclick="selectNote(${page.id})"
class="p-4 rounded-lg border cursor-pointer transition-colors ${selectedPageId === page.id ? 'bg-blue-50 border-blue-300' : 'bg-white hover:bg-gray-50 border-gray-200'}"
>
<div class="flex justify-between items-start mb-2">
<h3 class="font-medium text-gray-800 truncate">${page.title}</h3>
${classItem.pages.length > 1 ? `
<button
onclick="event.stopPropagation(); deleteNote(${page.id})"
class="text-red-500 hover:text-red-700 text-sm ml-2"
title="Delete note"
>
âœ•
</button>
` : ''}
</div>
<div class="text-sm text-gray-600 mb-1">${page.topic || 'No topic'}</div>
<div class="text-xs text-gray-500">${page.date}</div>
<div class="text-xs text-gray-400 mt-2">
${page.notes ? page.notes.substring(0, 50) + (page.notes.length > 50 ? '...' : '') : 'No notes yet'}
</div>
</div>
`).join('');
}

function renderNoteEditor() {
if (!selectedClassId || !selectedPageId) return;

const classItem = classes.find(c => c.id === selectedClassId);
if (!classItem) return;

const page = classItem.pages.find(p => p.id === selectedPageId);
if (!page) return;

document.getElementById('noteEditor').classList.remove('hidden');

const editor = document.getElementById('noteEditor');
editor.innerHTML = `
<div class="cornell-grid">
<div class="header-section bg-blue-50 p-4 border-b">
<div class="flex gap-4 text-sm">
<div>
<span class="text-gray-600">Title:</span>
<input
type="text"
value="${page.title}"
placeholder="Enter note title"
onchange="updatePage('title', this.value)"
class="ml-1 bg-transparent border-none outline-none text-gray-800 font-medium"
>
</div>
<div>
<span class="text-gray-600">Topic:</span>
<input
type="text"
value="${page.topic}"
placeholder="Enter topic"
onchange="updatePage('topic', this.value)"
class="ml-1 bg-transparent border-none outline-none text-gray-800"
>
</div>
<div class="text-gray-600">
Date: ${page.date}
</div>
</div>
</div>

<!-- Cue Column -->
<div class="cue-column bg-yellow-50 p-4">
<div class="flex justify-between items-center mb-2">
<h3 class="font-medium text-gray-700 text-sm">Cues & Questions</h3>
<button
onclick="addBullet('cues-${page.id}')"
class="bullet-btn bg-yellow-200 hover:bg-yellow-300 text-yellow-800 px-2 py-1 rounded text-xs"
title="Add bullet point"
>
â€¢ Add
</button>
</div>
<textarea
id="cues-${page.id}"
class="editable-area w-full bg-transparent resize-none border-none text-sm text-gray-700"
placeholder="Key terms, questions, cues..."
oninput="updatePage('cues', this.value)"
>${page.cues}</textarea>
</div>

<!-- Notes Column -->
<div class="notes-column bg-white p-4">
<div class="flex justify-between items-center mb-2">
<h3 class="font-medium text-gray-700 text-sm">Notes</h3>
<button
onclick="addBullet('notes-${page.id}')"
class="bullet-btn bg-blue-200 hover:bg-blue-300 text-blue-800 px-2 py-1 rounded text-xs"
title="Add bullet point"
>
â€¢ Add
</button>
</div>
<textarea
id="notes-${page.id}"
class="editable-area w-full bg-transparent resize-none border-none text-sm text-gray-700"
placeholder="Detailed notes, explanations, examples..."
oninput="updatePage('notes', this.value)"
>${page.notes}</textarea>
</div>

<!-- Summary Section -->
<div class="summary-section bg-green-50 p-4 border-t">
<div class="flex justify-between items-center mb-2">
<h3 class="font-medium text-gray-700 text-sm">Summary</h3>
<button
onclick="addBullet('summary-${page.id}')"
class="bullet-btn bg-green-200 hover:bg-green-300 text-green-800 px-2 py-1 rounded text-xs"
title="Add bullet point"
>
â€¢ Add
</button>
</div>
<textarea
id="summary-${page.id}"
class="editable-area w-full bg-transparent resize-none border-none text-sm text-gray-700"
placeholder="Key takeaways and main points..."
oninput="updatePage('summary', this.value)"
>${page.summary}</textarea>
</div>
</div>
`;
}

// Handle Enter key for adding classes
document.getElementById('classInput').addEventListener('keypress', function(e) {
if (e.key === 'Enter') {
addClass();
}
});

// Initial render
renderClassesList();
</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'974d0c48017cc489',t:'MTc1NjE0NTQ0NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
</body>
</html>
